<div class="row">
    <h1 class="text-center">История заказов</h1>
    <div class="table-wrap" st-table="items" st-pipe=getOrders>
        <div class="filters-form">
            <form action="#">
                <fieldset>
                    <div role="tablist" class="filters">
                        <h4 class="filters__title clearfix text-right">
                            <a data-toggle="collapse" data-target=".filters__collapse">
                                <i class="fa fa-filter" aria-hidden="true"></i>
                                Фильтр
                            </a>
                        </h4>
                        <div class="filters__collapse" role="tabpanel">
                            <div class="row">
                                <label class="control-label col">Дата заказа (пока не работает)
                                    <select class="form-control" ng-model="search.date">
                                        <option value="">Любая</option>
                                        <option value="">Последние сутки</option>
                                        <option value="">Последняя неделя</option>
                                        <option value="">Последний месяц</option>
                                    </select></label>
                                <label class="control-label col">Статус заказа
                                    <select class="form-control" st-search="status">
                                        <option value="">Любой</option>
                                        <option ng-repeat="status in statusList" ng-value="{{status.code}}">
                                            {{status.name}}
                                        </option>
                                    </select></label>
                                <label class="control-label col">Тип заказа
                                    <select class="form-control" st-search="delivery_type">
                                        <option value="">Любой</option>
                                        <option ng-repeat="delivery_type in deliveryTypes"
                                                ng-value="{{delivery_type.code}}">{{delivery_type.name}}
                                        </option>
                                    </select>
                                </label>


                                <label class="control-label col">Номер штрих-кода
                                    <input type="text" class="form-control" placeholder="Enter text" st-search="barcode"
                                           value=""
                                    >
                                </label>

                                <label class="control-label col">№ отправления магазина
                                    <input type="text" class="form-control" placeholder="Enter text" value=""
                                           ng-model="search.shopNum">
                                </label>
                                <label class="control-label col">Город отправителя
                                    <input type="text" class="form-control red" placeholder="Enter text" value=""
                                           ng-model="search.city">
                                </label>
                                <label class="control-label col">Название магазина
                                    <input type="text" class="form-control red" placeholder="Enter text" value=""
                                           ng-model="search.shopName">
                                </label>
                                <label class="control-label col">Город получателя
                                    <input type="text" class="form-control" placeholder="Enter text" value=""
                                           st-search="location__address">
                                </label>

                                <label class="control-label col">Телефон получателя
                                    <input type="text" class="form-control" placeholder="Enter text"
                                           st-search="client__contact_number" value=""
                                    >
                                </label>

                                <label class="control-label col">ФИО получателя
                                    <input type="text" class="form-control" placeholder="Enter text"
                                           st-search="client__contact_person" value=""
                                    >
                                </label>
                            </div>
                        </div>
                    </div>

                </fieldset>
            </form>
        </div>
        <button class="btn btn-success" ng-click="printActs()"
                ng-show="(getCheckedItems().length > 0 ) && (filteredItems.length !== 0)">Распечатать акт
            приема-передачи
        </button>
        <table class="table table-striped table-hover">
            <thead>
            <tr>
                <th>
                    <input type="checkbox" ng-model="isMasterChecked" ng-change="toggleMasterCheckbox(isMasterChecked)">
                </th>
                <th>Тип заказа</th>
                <th>Номер заказа магазина</th>
                <th>Штрих-код</th>
                <th>Куда</th>
                <th>Стоимость</th>
                <th>Статус</th>
                <th>&nbsp;</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="item in items">
                <td>
                    <input type="checkbox" ng-model="item.checked" ng-change="checkboxChanged(item.checked)"/>
                </td>
                <td>{{item.humanReadable.deliveryType}}</td>
                <td>{{item.humanReadable.number}}</td>
                <td>{{item.humanReadable.barcode}}</td>
                <td>{{item.location.address}}</td>
                <td>{{item.price}}</td>
                <td>{{item.humanReadable.status}}</td>
                <td><a ng-click="getPrintPdf(item)"><i class="fa fa-print"></i> Печать</a></td>
            </tr>
            </tbody>
            <tfoot>
            <tr>
                <td class=text-center st-pagination st-items-by-page=pagingBy colspan=16></td>
            </tr>
            </tfoot>
        </table>
    </div>
    <div class="alert alert-danger" ng-show="items.length === 0">
        <p>
            <strong>Внимание</strong>
            По заданным параметрам не найдено ни одного заказа, измените параметры поиска
        </p>
    </div>
</div>